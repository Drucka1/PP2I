{% extends 'base.html' %}

{% block title %}Planify Your Meals{% endblock %}

{% block content %}
    <div class="planify-container">
        <h2>Planify Your Meals</h2>

<<<<<<< HEAD
        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}

        <form method="post" action="{{ url_for('planify') }}" class="planify-form">
            <div class="form-group">
                <label for="diet">Select diet:</label>
                <select id="diet" name="diet">
                    <!-- Options for diet -->
                    <option value="Vegetarian">Vegetarian</option>
                    <option value="Vegan">Vegan</option>
                    <option value="Diabetic">Diabetic</option>
                    <option value="High fiber">High fiber</option>
                    <option value="Low cal">Low calories</option>
                    <option value="No fat">No fat</option>
                    <option value="Wheatless">Wheatless</option>
                    <!-- Add more options as needed -->
                </select>
            </div>

            <div class="form-group">
                <label for="max_budget">Maximum Budget:</label>
                <input type="number" id="max_budget" name="max_budget" value="{{ session['budget'] }}" min="0" required>
            </div>

            <button type="submit">Generate Plan</button>
        </form>

=======
<<<<<<< HEAD
    <h2>{% if error %}{{error}}{%endif%}</h2>

    <form method="post" action="{{ url_for('planify') }}">
        <label for="diet">Select diet:</label>
        <select id="diet" name="diet">
            {%for categorie in categories %}
                <option value="{{categorie[0]}}">{{categorie[0]}}</option>
            {%endfor%}
        </select>
=======
        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}

        <form method="post" action="{{ url_for('planify') }}" class="planify-form">
            <div class="form-group">
                <label for="diet">Select diet:</label>
                <select id="diet" name="diet">
                    <!-- Options for diet -->
                    <option value="Vegetarian">Vegetarian</option>
                    <option value="Vegan">Vegan</option>
                    <option value="Diabetic">Diabetic</option>
                    <option value="High fiber">High fiber</option>
                    <option value="Low cal">Low calories</option>
                    <option value="No fat">No fat</option>
                    <option value="Wheatless">Wheatless</option>
                    <!-- Add more options as needed -->
                </select>
            </div>

            <div class="form-group">
                <label for="max_budget">Maximum Budget:</label>
                <input type="number" id="max_budget" name="max_budget" value="{{ session['budget'] }}" min="0" required>
            </div>
>>>>>>> 9976d8b (some more css)

            <button type="submit">Generate Plan</button>
        </form>

>>>>>>> 39db0dfa560db2ea6f45f6dd12f8b5dd7575a929
        {% if recipe_plan %}
            <div class="plan-details">
                <p>Your Selected Diet: {{ diet }}</p>
                <p>Your Maximum Budget: ${{ max_budget }}</p>

                <h3>Recommended Recipe Plan:</h3>
                <ul>
                    {% for recipe in recipe_plan %}
                        <li>
                            <a href="recipe/{{ recipe['id'] }}">{{ recipe.title }}<img src="{{ recipe['imageURL'] }}" alt="{{ recipe.title }}"></a> {{ recipe.price }}
                        </li>
                    {% endfor %}
                </ul> 
                
                <h3>List of ingredients</h3>
                <form action="/download" method="post">
                    <input type="text" name="ing_list" value="{% for recipe in recipe_plan %}{% for ingredient in recipe['ingredients'] %}- {{ingredient[0]}} {{ingredient[2]}} {{ingredient[3]}} : {{ingredient[1]}}$|{% endfor %}{% endfor %}" hidden/>
                    {% for recipe in recipe_plan %}
                        {% for ingredient in recipe['ingredients'] %}
                            - {{ingredient[0]}} {{ingredient[2]}} {{ingredient[3]}} : {{ingredient[1]}}$<br>
                        {% endfor %}
                    {% endfor %}
                    
                    <input type="submit" value="Download" />
                </form>
            </div>
        {% endif %}
    </div>
{% endblock %}
